Below are the ready-to-flash source codes.
Put this in your CubeMX project (replace existing main.c content as needed) or paste relevant functions into your project. 
Make sure `MX_GPIO_Init()`, `MX_I2C1_Init()` and `MX_USART1_UART_Init()` are generated by CubeMX and present.
